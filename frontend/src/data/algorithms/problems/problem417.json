{
  "meta": {
    "id": 417,
    "title": "å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜",
    "difficulty": "ä¸­ç­‰",
    "leetcodeId": 417,
    "category": "graph",
    "patterns": [
      "graph_dfs_from_boundary"
    ],
    "tags": [
      "æ·±åº¦ä¼˜å…ˆæœç´¢",
      "å¹¿åº¦ä¼˜å…ˆæœç´¢",
      "æ•°ç»„",
      "çŸ©é˜µ"
    ],
    "estimatedTime": "25åˆ†é’Ÿ",
    "passingRate": "50.0%",
    "version": "1.0",
    "lastUpdated": "2025-10-21"
  },
  "description": "æœ‰ä¸€ä¸ª m Ã— n çš„çŸ©å½¢å²›å±¿ï¼Œä¸ å¤ªå¹³æ´‹ å’Œ å¤§è¥¿æ´‹ ç›¸é‚»ã€‚ \"å¤ªå¹³æ´‹\" å¤„äºå¤§é™†çš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œï¼Œè€Œ \"å¤§è¥¿æ´‹\" å¤„äºå¤§é™†çš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œã€‚è¿™ä¸ªå²›è¢«åˆ†å‰²æˆä¸€ä¸ªç”±è‹¥å¹²æ–¹å½¢å•å…ƒæ ¼ç»„æˆçš„ç½‘æ ¼ã€‚ç»™å®šä¸€ä¸ª m x n çš„æ•´æ•°çŸ©é˜µ heights ï¼Œ heights[r][c] è¡¨ç¤ºåæ ‡ (r, c) ä¸Šå•å…ƒæ ¼ é«˜äºæµ·å¹³é¢çš„é«˜åº¦ ã€‚å²›ä¸Šé›¨æ°´è¾ƒå¤šï¼Œå¦‚æœç›¸é‚»å•å…ƒæ ¼çš„é«˜åº¦ å°äºæˆ–ç­‰äº å½“å‰å•å…ƒæ ¼çš„é«˜åº¦ï¼Œé›¨æ°´å¯ä»¥ç›´æ¥å‘åŒ—ã€å—ã€ä¸œã€è¥¿æµå‘ç›¸é‚»å•å…ƒæ ¼ã€‚æ°´å¯ä»¥ä»æµ·æ´‹ä¸­çš„ä»»ä½•å•å…ƒæ ¼æµå…¥æµ·æ´‹ã€‚è¿”å›ç½‘æ ¼åæ ‡ result çš„ 2D åˆ—è¡¨ ï¼Œå…¶ä¸­ result[i] = [ri, ci] è¡¨ç¤ºé›¨æ°´ä»å•å…ƒæ ¼ (ri, ci) æµåŠ¨ æ—¢å¯åˆ°è¾¾å¤ªå¹³æ´‹ä¹Ÿå¯åˆ°è¾¾å¤§è¥¿æ´‹ ã€‚",
  "examples": [
    {
      "input": "heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]",
      "output": "[[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]",
      "explanation": "ä»¥ä¸‹å•å…ƒæ ¼å¯ä»¥æµåˆ°å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹ï¼š\n(0,4): ä» (0,4) å¼€å§‹ï¼Œå¯ä»¥åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹\n..."
    }
  ],
  "constraints": [
    "m == heights.length",
    "n == heights[r].length",
    "1 <= m, n <= 200",
    "0 <= heights[r][c] <= 10âµ"
  ],
  "hints": [
    "ä»æµ·æ´‹è¾¹ç•Œå¼€å§‹åå‘DFS",
    "åˆ†åˆ«ä»å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹çš„è¾¹ç•Œå¼€å§‹æœç´¢",
    "æ‰¾åˆ°æ—¢èƒ½åˆ°è¾¾å¤ªå¹³æ´‹åˆèƒ½åˆ°è¾¾å¤§è¥¿æ´‹çš„èŠ‚ç‚¹"
  ],
  "followUp": "ä½ èƒ½æƒ³å‡ºæ›´ä¼˜åŒ–çš„è§£æ³•å—ï¼Ÿè€ƒè™‘æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚",
  "solutions": [
    {
      "id": "reverse_dfs",
      "name": "åå‘DFS",
      "timeComplexity": "O(m Ã— n)",
      "spaceComplexity": "O(m Ã— n)",
      "description": "ä»æµ·æ´‹è¾¹ç•Œå¼€å§‹åå‘DFSæœç´¢",
      "code": {
        "javascript": "/**\n * å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜ - ä»æµ·æ´‹è¾¹ç•Œå¼€å§‹åå‘DFSæœç´¢\n */\n\nfunction pacificAtlantic(heights) {\n    const m = heights.length;\n    const n = heights[0].length;\n\n    // èƒ½åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹çš„æ ‡è®°\n    const pacificReachable = Array(m).fill(null).map(() => Array(n).fill(false));\n    const atlanticReachable = Array(m).fill(null).map(() => Array(n).fill(false));\n\n    const directions = [[0, 1], [1, 0], [0, -1], [-1, 0]];\n\n    function dfs(row, col, reachable, prevHeight) {\n        // è¾¹ç•Œæ£€æŸ¥å’Œé«˜åº¦æ£€æŸ¥\n        if (row < 0 || row >= m || col < 0 || col >= n || reachable[row][col] || heights[row][col] < prevHeight) {\n            return;\n        }\n\n        reachable[row][col] = true;\n\n        for (const [dr, dc] of directions) {\n            dfs(row + dr, col + dc, reachable, heights[row][col]);\n        }\n    }\n\n    // ä»å¤ªå¹³æ´‹è¾¹ç•Œå¼€å§‹DFSï¼ˆä¸Šè¾¹ç•Œå’Œå·¦è¾¹ç•Œï¼‰\n    for (let i = 0; i < m; i++) {\n        dfs(i, 0, pacificReachable, heights[i][0]); // å·¦è¾¹ç•Œ\n    }\n    for (let j = 0; j < n; j++) {\n        dfs(0, j, pacificReachable, heights[0][j]); // ä¸Šè¾¹ç•Œ\n    }\n\n    // ä»å¤§è¥¿æ´‹è¾¹ç•Œå¼€å§‹DFSï¼ˆä¸‹è¾¹ç•Œå’Œå³è¾¹ç•Œï¼‰\n    for (let i = 0; i < m; i++) {\n        dfs(i, n - 1, atlanticReachable, heights[i][n - 1]); // å³è¾¹ç•Œ\n    }\n    for (let j = 0; j < n; j++) {\n        dfs(m - 1, j, atlanticReachable, heights[m - 1][j]); // ä¸‹è¾¹ç•Œ\n    }\n\n    // æ‰¾åˆ°æ—¢èƒ½åˆ°è¾¾å¤ªå¹³æ´‹åˆèƒ½åˆ°è¾¾å¤§è¥¿æ´‹çš„èŠ‚ç‚¹\n    const result = [];\n    for (let i = 0; i < m; i++) {\n        for (let j = 0; j < n; j++) {\n            if (pacificReachable[i][j] && atlanticReachable[i][j]) {\n                result.push([i, j]);\n            }\n        }\n    }\n\n    return result;\n}\n\n\n/**\n * æµ‹è¯•pacificAtlanticå‡½æ•°\n */\nfunction testPacificAtlantic() {\n    console.log(\"=== pacificAtlanticæµ‹è¯• ===\");\n\n    // æµ‹è¯•ç”¨ä¾‹\n    console.log(\"è¾“å…¥: heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]\");\n    console.log(\"æœŸæœ›è¾“å‡º: [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]\");\n    console.log(\"è¯´æ˜: ä»¥ä¸‹å•å…ƒæ ¼å¯ä»¥æµåˆ°å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹ï¼š\n(0,4): ä» (0,4) å¼€å§‹ï¼Œå¯ä»¥åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹\n...\");\n\n    console.log(\"\\n=== æµ‹è¯•å®Œæˆ ===\");\n}\n\n// å¦‚æœéœ€è¦è¿è¡Œæµ‹è¯•ï¼Œå–æ¶ˆæ³¨é‡Šä¸‹é¢çš„è¡Œ\n// testPacificAtlantic();",
        "python": "\"\"\"\nå¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜ - ä»æµ·æ´‹è¾¹ç•Œå¼€å§‹åå‘DFSæœç´¢\n\"\"\"\n\ndef pacificAtlantic(heights):\n    m, n = len(heights), len(heights[0])\n\n    # èƒ½åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹çš„æ ‡è®°\n    pacific_reachable = [[False] * n for _ in range(m)]\n    atlantic_reachable = [[False] * n for _ in range(m)]\n\n    directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]\n\n    def dfs(row, col, reachable, prev_height):\n        # è¾¹ç•Œæ£€æŸ¥å’Œé«˜åº¦æ£€æŸ¥\n        if (row < 0 or row >= m or col < 0 or col >= n or\n            reachable[row][col] or heights[row][col] < prev_height):\n            return\n\n        reachable[row][col] = True\n\n        for dr, dc in directions:\n            dfs(row + dr, col + dc, reachable, heights[row][col])\n\n    # ä»å¤ªå¹³æ´‹è¾¹ç•Œå¼€å§‹DFS\n    for i in range(m):\n        dfs(i, 0, pacific_reachable, heights[i][0])  # å·¦è¾¹ç•Œ\n    for j in range(n):\n        dfs(0, j, pacific_reachable, heights[0][j])  # ä¸Šè¾¹ç•Œ\n\n    # ä»å¤§è¥¿æ´‹è¾¹ç•Œå¼€å§‹DFS\n    for i in range(m):\n        dfs(i, n - 1, atlantic_reachable, heights[i][n - 1])  # å³è¾¹ç•Œ\n    for j in range(n):\n        dfs(m - 1, j, atlantic_reachable, heights[m - 1][j])  # ä¸‹è¾¹ç•Œ\n\n    # æ‰¾åˆ°æ—¢èƒ½åˆ°è¾¾å¤ªå¹³æ´‹åˆèƒ½åˆ°è¾¾å¤§è¥¿æ´‹çš„èŠ‚ç‚¹\n    result = []\n    for i in range(m):\n        for j in range(n):\n            if pacific_reachable[i][j] and atlantic_reachable[i][j]:\n                result.append([i, j])\n\n    return result\n\n\ndef test_pacificAtlantic():\n    \"\"\"æµ‹è¯•pacificAtlanticå‡½æ•°\"\"\"\n    print(\"=== pacificAtlanticæµ‹è¯• ===\")\n\n    # æµ‹è¯•ç”¨ä¾‹\n    print(\"è¾“å…¥: heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]\")\n    print(\"æœŸæœ›è¾“å‡º: [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]\")\n    print(\"è¯´æ˜: ä»¥ä¸‹å•å…ƒæ ¼å¯ä»¥æµåˆ°å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹ï¼š\n(0,4): ä» (0,4) å¼€å§‹ï¼Œå¯ä»¥åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹\n...\")\n\n    print(\"\\n=== æµ‹è¯•å®Œæˆ ===\")\n\n# å¦‚æœéœ€è¦è¿è¡Œæµ‹è¯•ï¼Œå–æ¶ˆæ³¨é‡Šä¸‹é¢çš„è¡Œ\n# test_pacificAtlantic()"
      }
    }
  ],
  "aiExplanation": {
    "concept": {
      "title": "ğŸ§  å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜è§£é¢˜ç­–ç•¥",
      "content": "è¿™æ˜¯ä¸€é“ç»å…¸çš„ç®—æ³•é¢˜ç›®ï¼Œé‡ç‚¹å­¦ä¹ è§£é¢˜æ€è·¯å’Œä»£ç å®ç°ã€‚"
    },
    "keyInsights": [
      "ğŸ’° ç†è§£é¢˜ç›®çš„æ ¸å¿ƒè¦æ±‚",
      "ğŸ“Š é€‰æ‹©åˆé€‚çš„ç®—æ³•ç­–ç•¥",
      "ğŸ”„ ä¼˜åŒ–æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦"
    ],
    "commonMistakes": [
      "âŒ æ²¡æœ‰è€ƒè™‘è¾¹ç•Œæ¡ä»¶",
      "âŒ ç®—æ³•å®ç°æœ‰è¯¯",
      "âŒ å¿½ç•¥äº†é¢˜ç›®çš„ç‰¹æ®Šè¦æ±‚"
    ]
  },
  "visualization": {
    "type": "step_by_step",
    "defaultData": {
      "input": "heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]",
      "output": "[[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]",
      "explanation": "ä»¥ä¸‹å•å…ƒæ ¼å¯ä»¥æµåˆ°å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹ï¼š\n(0,4): ä» (0,4) å¼€å§‹ï¼Œå¯ä»¥åˆ°è¾¾å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹\n..."
    },
    "steps": [
      {
        "step": 1,
        "description": "åˆ†æè¾“å…¥æ•°æ®",
        "highlight": [],
        "action": "å¼€å§‹ç®—æ³•æ‰§è¡Œ"
      }
    ]
  },
  "relatedProblems": [],
  "practiceExercises": [
    {
      "title": "å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜å˜ç§ç»ƒä¹ ",
      "description": "åŸºäºå¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜çš„å˜ç§é—®é¢˜",
      "difficulty": "ä¸­ç­‰",
      "hints": [
        "è€ƒè™‘è¾¹ç•Œæƒ…å†µ",
        "ä¼˜åŒ–ç®—æ³•å¤æ‚åº¦"
      ]
    }
  ]
}