{
  "meta": {
    "id": 167,
    "title": "两数之和 II - 输入有序数组",
    "difficulty": "中等",
    "leetcodeId": 167,
    "category": "array",
    "patterns": ["two_pointers", "array"],
    "tags": ["数组", "双指针", "二分查找"],
    "estimatedTime": "20分钟",
    "passingRate": "58.3%",
    "version": "1.0",
    "lastUpdated": "2024-01-20"
  },

  "description": "给你一个下标从 1 开始的整数数组 numbers ，该数组已按 非递减顺序排列 ，请你从数组中找出满足相加之和等于目标数 target 的两个数。如果设这两个数分别是 numbers[index1] 和 numbers[index2] ，则 1 <= index1 < index2 <= numbers.length 。\n\n以长度为 2 的整数数组 [index1, index2] 的形式返回这两个整数的下标 index1 和 index2。\n\n你可以假设每个输入只对应唯一的答案，而且你不可以重复使用相同的元素。\n\n你所设计的解决方案必须只使用常量级的额外空间。",

  "examples": [
    {
      "input": "[2,7,11,15], target=9",
      "output": "[1,2]",
      "explanation": "2 与 7 之和等于目标数 9。因此 index1 = 1, index2 = 2"
    },
    {
      "input": "[2,3,4], target=6",
      "output": "[1,3]",
      "explanation": "2 与 4 之和等于目标数 6。因此 index1 = 1, index3 = 3"
    }
  ],

  "constraints": [
    "数组长度 2-3×10⁴",
    "元素范围 -1000 到 1000",
    "数组已按非递减顺序排列",
    "只会存在一个有效答案"
  ],

  "hints": [
    "💡 利用数组已排序的特性",
    "🔍 使用双指针从两端向中间移动",
    "⚡ 根据和的大小决定移动哪个指针"
  ],

  "followUp": "你能否设计一个时间复杂度为 O(n) 且只使用 O(1) 额外空间的算法？",

  "solutions": [
    {
      "id": "two_pointers",
      "name": "双指针解法",
      "timeComplexity": "O(n)",
      "spaceComplexity": "O(1)",
      "description": "利用数组有序特性，使用双指针从两端向中间搜索",

      "code": {
        "javascript": "function twoSum(numbers, target) {\n    let left = 0, right = numbers.length - 1;\n    \n    while (left < right) {\n        const sum = numbers[left] + numbers[right];\n        \n        if (sum === target) {\n            return [left + 1, right + 1]; // 题目要求下标从1开始\n        } else if (sum < target) {\n            left++;\n        } else {\n            right--;\n        }\n    }\n}",
        "python": "def twoSum(numbers, target):\n    left, right = 0, len(numbers) - 1\n    \n    while left < right:\n        current_sum = numbers[left] + numbers[right]\n        \n        if current_sum == target:\n            return [left + 1, right + 1]\n        elif current_sum < target:\n            left += 1\n        else:\n            right -= 1"
      },

      "explanation": {
        "approach": "🔄 双指针相向搜索",
        "steps": [
          "初始化左右指针：left = 0, right = n-1",
          "计算当前和：sum = numbers[left] + numbers[right]",
          "如果 sum == target，返回 [left+1, right+1]",
          "如果 sum < target，left++（需要更大的数）",
          "如果 sum > target，right--（需要更小的数）"
        ],
        "pros": ["时间复杂度 O(n)", "空间复杂度 O(1)", "利用有序特性"],
        "cons": ["仅适用于有序数组", "需要理解指针移动逻辑"]
      }
    }
  ],

  "aiExplanation": {
    "concept": {
      "title": "🎯 双指针在有序数组中的应用",
      "content": "这道题是双指针技术的经典应用，充分利用了数组有序的特性：\n\n💡 **核心思想**：\n• 有序数组：可以根据大小关系确定搜索方向\n• 双指针：从两端向中间收缩搜索空间\n• 时间优化：O(n²) 暴力解法 → O(n) 双指针\n\n🎯 **与题目1的区别**：\n• 题目1：无序数组 → 用哈希表\n• 题目167：有序数组 → 用双指针\n\n选择合适的数据结构和算法是关键。"
    },

    "keyInsights": [
      "🔍 有序性质：根据和的大小确定搜索方向",
      "⚡ 空间优化：O(1) 空间复杂度",
      "🎯 指针移动：smaller sum → left++, larger sum → right--"
    ],

    "commonMistakes": [
      "❌ 忘记下标从1开始（需要 +1）",
      "❌ 指针移动逻辑错误",
      "❌ 没有利用数组有序特性"
    ]
  },

  "relatedProblems": [
    {
      "id": 1,
      "title": "两数之和",
      "reason": "对比有序vs无序数组的不同解法",
      "difficulty": "简单"
    },
    {
      "id": 15,
      "title": "三数之和",
      "reason": "双指针技术的进阶应用",
      "difficulty": "中等"
    }
  ]
}